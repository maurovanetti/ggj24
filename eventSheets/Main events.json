{
	"name": "Main events",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Scoring events"
		},
		{
			"eventType": "include",
			"includeSheet": "Card events"
		},
		{
			"eventType": "variable",
			"name": "DefaultAcceleration",
			"type": "number",
			"initialValue": "1500",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 627404455582456
		},
		{
			"eventType": "variable",
			"name": "DefaultJumpStrength",
			"type": "number",
			"initialValue": "1200",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 238639515168405
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debug",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 697814851364255,
							"parameters": {
								"key": 82
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 224475032503496
						}
					],
					"sid": 412191845180076
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 378252392639238,
							"parameters": {
								"key": 69
							}
						}
					],
					"actions": [
						{
							"customAction": "New Event",
							"objectClass": "ScoringTable",
							"sid": 852588585391674,
							"parameters": [
								"\"Test Event\""
							]
						}
					],
					"sid": 254977264045412
				}
			],
			"sid": 976892483445359
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 448103505888716
						}
					],
					"actions": [
						{
							"customAction": "New Event",
							"objectClass": "ScoringTable",
							"sid": 443030933220101,
							"parameters": [
								"\"Make me laugh!\""
							]
						}
					],
					"sid": 771941109959129
				}
			],
			"sid": 453320840946473
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera Focus",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 715724075127140
						}
					],
					"actions": [
						{
							"id": "set-y",
							"objectClass": "Focus",
							"sid": 226946991127077,
							"parameters": {
								"y": "Box.Y + Focus.DeltaY"
							}
						}
					],
					"sid": 321282864516555
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 381773231853150
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Focus",
							"sid": 355849936930401,
							"parameters": {
								"x": "Box.X + (ViewportWidth(0) / 3) "
							}
						}
					],
					"sid": 183531728151108,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-floor",
									"objectClass": "Box",
									"sid": 884046343696340,
									"behaviorType": "Platform"
								},
								{
									"id": "compare-y",
									"objectClass": "Box",
									"sid": 785621553817444,
									"parameters": {
										"comparison": 1,
										"y-co-ordinate": "Focus.Y - Focus.DeltaY"
									}
								},
								{
									"id": "is-playing",
									"objectClass": "Focus",
									"sid": 891486877794193,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"adjust\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 975006136384786,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 430816125873957,
											"parameters": {
												"first-value": "Box.Y + Focus.DeltaY",
												"comparison": 2,
												"second-value": "Focus.Y + Focus.ToleranceY"
											}
										}
									],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "Focus",
											"sid": 117916855119936,
											"parameters": {
												"y": "Focus.Y + clamp(Box.Y + Focus.DeltaY - Focus.Y, dt * -abs(Focus.UpwardSpeed), 0)"
											}
										}
									],
									"sid": 394818771180718
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 672030155893043
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "Focus",
											"sid": 710563780644649,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"adjust\"",
												"property": "offsetY",
												"end-value": "Box.Y + Focus.DeltaY",
												"time": "Focus.DownwardAdjustTime",
												"ease": "easeoutbounce",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"customAction": "Ouch",
											"objectClass": "ScoringTable",
											"sid": 375421155644885
										}
									],
									"sid": 397167021715285
								}
							]
						}
					]
				}
			],
			"sid": 675763177620255
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Collisions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-by-wall",
							"objectClass": "Box",
							"sid": 803367512230534,
							"behaviorType": "Platform",
							"parameters": {
								"side": "left"
							}
						},
						{
							"id": "is-by-wall",
							"objectClass": "Box",
							"sid": 582889043889124,
							"behaviorType": "Platform",
							"parameters": {
								"side": "right"
							}
						}
					],
					"actions": [],
					"sid": 481714491544278,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Box",
							"sid": 754518890967179,
							"parameters": {
								"object": "Panda"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Panda",
							"sid": 764534708702443,
							"parameters": {
								"animation": "\"Idle\""
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Box",
							"sid": 721599350933769,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Panda",
							"sid": 710257214650372,
							"parameters": {
								"animation": "\"Angry\"",
								"from": "beginning"
							}
						}
					],
					"sid": 280276469849331
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Panda",
							"sid": 690169457359393,
							"parameters": {
								"animation": "\"Angry\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Panda",
							"sid": 680856301389643,
							"parameters": {
								"animation": "\"Idle\"",
								"from": "beginning"
							}
						}
					],
					"sid": 921765720910274
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Box",
							"sid": 690382312430870,
							"parameters": {
								"object": "Cat"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Cat",
							"sid": 209303587651571,
							"parameters": {
								"animation": "\"Idle\""
							}
						}
					],
					"actions": [
						{
							"id": "set-jump-strength",
							"objectClass": "Box",
							"sid": 249537694467745,
							"behaviorType": "Platform",
							"parameters": {
								"jump-strength": "800"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "Box",
							"sid": 183530594240263,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Cat",
							"sid": 533934953220732,
							"parameters": {
								"animation": "\"Angry\"",
								"from": "beginning"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 945982155319339,
							"parameters": {
								"seconds": "0.1"
							}
						},
						{
							"id": "set-jump-strength",
							"objectClass": "Box",
							"sid": 546899574232245,
							"behaviorType": "Platform",
							"parameters": {
								"jump-strength": "DefaultJumpStrength"
							}
						}
					],
					"sid": 326275735448047
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Cat",
							"sid": 405969999708197,
							"parameters": {
								"animation": "\"Angry\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Cat",
							"sid": 597014032799977,
							"parameters": {
								"animation": "\"Idle\"",
								"from": "beginning"
							}
						}
					],
					"sid": 541425206259452
				}
			],
			"sid": 186776396655804
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Animations",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 477040879765778
						}
					],
					"actions": [
						{
							"id": "set-acceleration",
							"objectClass": "Box",
							"sid": 255488661474538,
							"behaviorType": "Platform",
							"parameters": {
								"acceleration": "DefaultAcceleration"
							}
						}
					],
					"sid": 776989112249136
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Box",
							"sid": 830943695698848,
							"behaviorType": "Platform",
							"parameters": {
								"control": "right"
							}
						},
						{
							"id": "set-vector-x",
							"objectClass": "AltBox",
							"sid": 638166735289049,
							"behaviorType": "Platform",
							"parameters": {
								"vector-x": "Box.Platform.VectorX"
							}
						}
					],
					"sid": 281172518607917
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Mirroring",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Box",
									"sid": 292538067797479,
									"parameters": {
										"instance-variable": "DeltaX",
										"value": "Box.X - Box.LastX"
									}
								}
							],
							"sid": 729124513323817
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Box",
									"sid": 670319786816570,
									"parameters": {
										"instance-variable": "DeltaX",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Guy",
									"sid": 822888774821578,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 615351923037124
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Box",
									"sid": 286064975675828,
									"parameters": {
										"instance-variable": "DeltaX",
										"comparison": 2,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Guy",
									"sid": 179299540040134,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 412660816758472
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Box",
									"sid": 729316177638264,
									"parameters": {
										"instance-variable": "LastX",
										"value": "Box.X"
									}
								}
							],
							"sid": 568193303008862
						}
					],
					"sid": 898159491276483
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-jump",
							"objectClass": "Box",
							"sid": 767488593239147,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Box",
							"sid": 838894750575959,
							"parameters": {
								"instance-variable": "JustJumped",
								"value": "true"
							}
						},
						{
							"id": "shake",
							"objectClass": "Focus",
							"sid": 307175714552449,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "20",
								"duration": "0.1",
								"mode": "reducing-magnitude"
							}
						},
						{
							"id": "destroy",
							"objectClass": "AltBox",
							"sid": 561993202161190
						}
					],
					"sid": 993171863874101,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 919857630253676,
									"parameters": {
										"first-value": "Box.Platform.JumpStrength",
										"comparison": 2,
										"second-value": "DefaultJumpStrength"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Guy",
									"sid": 915810550643256,
									"parameters": {
										"animation": "\"Stumble\"",
										"from": "beginning"
									}
								},
								{
									"customAction": "ClumsyStumble",
									"objectClass": "ScoringTable",
									"sid": 316612870157119
								}
							],
							"sid": 842901163514175
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 847303878069569
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Box",
									"sid": 246544570530912,
									"parameters": {
										"object": "AltBox",
										"layer": "\"Characters\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Guy",
									"sid": 793739774259422,
									"parameters": {
										"animation": "\"Jump\"",
										"from": "beginning"
									}
								}
							],
							"sid": 269875323418715
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-fall",
							"objectClass": "Box",
							"sid": 496265633670305,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Guy",
							"sid": 388399267956553,
							"parameters": {
								"animation": "\"Fall\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Guy",
							"sid": 137113142631110,
							"behaviorType": "Rotate",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Guy",
							"sid": 902939934079759,
							"behaviorType": "Rotate",
							"parameters": {
								"speed": "200"
							}
						}
					],
					"sid": 604082814228049
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-landed",
							"objectClass": "Box",
							"sid": 435069943213893,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Box",
							"sid": 908171262229070,
							"parameters": {
								"instance-variable": "JustJumped",
								"value": "false"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Guy",
							"sid": 870076323798680,
							"parameters": {
								"animation": "\"Land\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Guy",
							"sid": 869080118988828,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"id": "set-vector-x",
							"objectClass": "Box",
							"sid": 107303464872595,
							"behaviorType": "Platform",
							"parameters": {
								"vector-x": "0"
							}
						},
						{
							"id": "set-acceleration",
							"objectClass": "Box",
							"sid": 624074272307298,
							"behaviorType": "Platform",
							"parameters": {
								"acceleration": "0"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Guy",
							"sid": 874699174044306,
							"behaviorType": "Rotate",
							"parameters": {
								"state": "disabled"
							}
						}
					],
					"sid": 402209092154442,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Box",
									"sid": 158996953546959,
									"parameters": {
										"object": "AltBox"
									}
								},
								{
									"id": "is-on-floor",
									"objectClass": "AltBox",
									"sid": 452240433592780,
									"behaviorType": "Platform"
								}
							],
							"actions": [
								{
									"customAction": "UselessJump",
									"objectClass": "ScoringTable",
									"sid": 665551237285527
								}
							],
							"sid": 207009674496662
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "AltBox",
									"sid": 544554371666338
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 202293822899137,
									"parameters": {
										"seconds": "0.3"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Guy",
									"sid": 867227442399366,
									"parameters": {
										"animation": "\"Walk\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-acceleration",
									"objectClass": "Box",
									"sid": 869243136160004,
									"behaviorType": "Platform",
									"parameters": {
										"acceleration": "DefaultAcceleration"
									}
								}
							],
							"sid": 116212773770361
						}
					]
				}
			],
			"sid": 316166508963736
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Game Over",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Box",
							"sid": 537058501952452,
							"parameters": {
								"object": "Abyss"
							}
						}
					],
					"actions": [],
					"sid": 741588280995075,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Box",
									"sid": 207143318094205,
									"parameters": {
										"instance-variable": "JustJumped"
									}
								}
							],
							"actions": [
								{
									"customAction": "LeapOfFaith",
									"objectClass": "ScoringTable",
									"sid": 821639969238588
								}
							],
							"sid": 729193540170669
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "Game Over",
									"sid": 491748846101585
								}
							],
							"sid": 157967816595098
						}
					]
				}
			],
			"sid": 623056505591580
		},
		{
			"functionName": "Game Over",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"customAction": "GameOver",
					"objectClass": "ScoringTable",
					"sid": 258880735530198
				},
				{
					"id": "set-max-speed",
					"objectClass": "Box",
					"sid": 545056127639191,
					"behaviorType": "Platform",
					"parameters": {
						"max-speed": "0"
					}
				},
				{
					"id": "flash",
					"objectClass": "Guy",
					"sid": 340645320880784,
					"behaviorType": "Flash",
					"parameters": {
						"on-time": "0.1",
						"off-time": "0.1",
						"duration": "1.0"
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 887240447100172,
					"parameters": {
						"seconds": "2"
					}
				},
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 477510875533646
				}
			],
			"sid": 971759594944908
		}
	],
	"sid": 819818898747264
}