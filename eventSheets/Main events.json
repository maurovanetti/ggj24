{
	"name": "Main events",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Scoring events"
		},
		{
			"eventType": "include",
			"includeSheet": "Card events"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debug",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 697814851364255,
							"parameters": {
								"key": 82
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 224475032503496
						}
					],
					"sid": 412191845180076
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 378252392639238,
							"parameters": {
								"key": 69
							}
						}
					],
					"actions": [
						{
							"customAction": "New Event",
							"objectClass": "ScoringTable",
							"sid": 852588585391674,
							"parameters": [
								"\"Test Event\""
							]
						}
					],
					"sid": 254977264045412
				}
			],
			"sid": 976892483445359
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 448103505888716
						}
					],
					"actions": [
						{
							"customAction": "New Event",
							"objectClass": "ScoringTable",
							"sid": 443030933220101,
							"parameters": [
								"\"Make me laugh!\""
							]
						}
					],
					"sid": 771941109959129
				}
			],
			"sid": 453320840946473
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera Focus",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 715724075127140
						}
					],
					"actions": [
						{
							"id": "set-y",
							"objectClass": "Focus",
							"sid": 226946991127077,
							"parameters": {
								"y": "Box.Y + Focus.DeltaY"
							}
						}
					],
					"sid": 321282864516555
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 381773231853150
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Focus",
							"sid": 355849936930401,
							"parameters": {
								"x": "Box.X + (ViewportWidth(0) / 3) "
							}
						}
					],
					"sid": 183531728151108,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-floor",
									"objectClass": "Box",
									"sid": 884046343696340,
									"behaviorType": "Platform"
								},
								{
									"id": "compare-y",
									"objectClass": "Box",
									"sid": 785621553817444,
									"parameters": {
										"comparison": 1,
										"y-co-ordinate": "Focus.Y - Focus.DeltaY"
									}
								},
								{
									"id": "is-playing",
									"objectClass": "Focus",
									"sid": 891486877794193,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"adjust\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 975006136384786,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 430816125873957,
											"parameters": {
												"first-value": "Box.Y + Focus.DeltaY",
												"comparison": 2,
												"second-value": "Focus.Y + Focus.ToleranceY"
											}
										}
									],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "Focus",
											"sid": 117916855119936,
											"parameters": {
												"y": "Focus.Y + clamp(Box.Y + Focus.DeltaY - Focus.Y, dt * -abs(Focus.UpwardSpeed), 0)"
											}
										}
									],
									"sid": 394818771180718
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 672030155893043
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "Focus",
											"sid": 710563780644649,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"adjust\"",
												"property": "offsetY",
												"end-value": "Box.Y + Focus.DeltaY",
												"time": "Focus.DownwardAdjustTime",
												"ease": "easeoutbounce",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"customAction": "Ouch",
											"objectClass": "ScoringTable",
											"sid": 375421155644885
										}
									],
									"sid": 397167021715285
								}
							]
						}
					]
				}
			],
			"sid": 675763177620255
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Movement",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Box",
							"sid": 517699038569388,
							"behaviorType": "Platform",
							"parameters": {
								"control": "right"
							}
						}
					],
					"sid": 956401534018704
				}
			],
			"sid": 248085820523100
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Collisions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-by-wall",
							"objectClass": "Box",
							"sid": 803367512230534,
							"behaviorType": "Platform",
							"parameters": {
								"side": "left"
							}
						},
						{
							"id": "is-by-wall",
							"objectClass": "Box",
							"sid": 582889043889124,
							"behaviorType": "Platform",
							"parameters": {
								"side": "right"
							}
						}
					],
					"actions": [],
					"sid": 481714491544278,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Box",
							"sid": 754518890967179,
							"parameters": {
								"object": "Panda"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Panda",
							"sid": 764534708702443,
							"parameters": {
								"animation": "\"Idle\""
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Box",
							"sid": 721599350933769,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Panda",
							"sid": 710257214650372,
							"parameters": {
								"animation": "\"Angry\"",
								"from": "beginning"
							}
						}
					],
					"sid": 280276469849331
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Panda",
							"sid": 690169457359393,
							"parameters": {
								"animation": "\"Angry\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Panda",
							"sid": 680856301389643,
							"parameters": {
								"animation": "\"Idle\"",
								"from": "beginning"
							}
						}
					],
					"sid": 921765720910274
				}
			],
			"sid": 186776396655804
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Animations",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "This event must come first in this group"
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Box",
							"sid": 538835017195920,
							"parameters": {
								"instance-variable": "DeltaX",
								"value": "Box.X - Box.LastX"
							}
						}
					],
					"sid": 834971193755605
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Box",
							"sid": 539693176458258,
							"parameters": {
								"instance-variable": "DeltaX",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "Guy",
							"sid": 133851715157289,
							"parameters": {
								"state": "not-mirrored"
							}
						}
					],
					"sid": 494596445232717
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Box",
							"sid": 745222155385631,
							"parameters": {
								"instance-variable": "DeltaX",
								"comparison": 2,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "Guy",
							"sid": 702818070560534,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 943773273409452
				},
				{
					"eventType": "comment",
					"text": "This event must come last in this group"
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Box",
							"sid": 570730800068072,
							"parameters": {
								"instance-variable": "LastX",
								"value": "Box.X"
							}
						}
					],
					"sid": 794664155669316
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-jump",
							"objectClass": "Box",
							"sid": 767488593239147,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Box",
							"sid": 838894750575959,
							"parameters": {
								"instance-variable": "JustJumped",
								"value": "true"
							}
						},
						{
							"id": "shake",
							"objectClass": "Focus",
							"sid": 307175714552449,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "20",
								"duration": "0.1",
								"mode": "reducing-magnitude"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Guy",
							"sid": 686983658758537,
							"parameters": {
								"animation": "\"Jump\"",
								"from": "beginning"
							}
						}
					],
					"sid": 993171863874101
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-fall",
							"objectClass": "Box",
							"sid": 496265633670305,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Guy",
							"sid": 388399267956553,
							"parameters": {
								"animation": "\"Fall\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Guy",
							"sid": 137113142631110,
							"behaviorType": "Rotate",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Guy",
							"sid": 902939934079759,
							"behaviorType": "Rotate",
							"parameters": {
								"speed": "200"
							}
						}
					],
					"sid": 604082814228049
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-landed",
							"objectClass": "Box",
							"sid": 435069943213893,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Box",
							"sid": 908171262229070,
							"parameters": {
								"instance-variable": "JustJumped",
								"value": "false"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Guy",
							"sid": 828892275215811,
							"parameters": {
								"animation": "\"Walk\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Guy",
							"sid": 869080118988828,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Guy",
							"sid": 874699174044306,
							"behaviorType": "Rotate",
							"parameters": {
								"state": "disabled"
							}
						}
					],
					"sid": 402209092154442
				}
			],
			"sid": 316166508963736
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Game Over",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Box",
							"sid": 537058501952452,
							"parameters": {
								"object": "Abyss"
							}
						}
					],
					"actions": [],
					"sid": 741588280995075,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Box",
									"sid": 207143318094205,
									"parameters": {
										"instance-variable": "JustJumped"
									}
								}
							],
							"actions": [
								{
									"customAction": "Ouch",
									"objectClass": "ScoringTable",
									"sid": 410047851402957
								}
							],
							"sid": 729193540170669
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "Game Over",
									"sid": 491748846101585
								}
							],
							"sid": 157967816595098
						}
					]
				}
			],
			"sid": 623056505591580
		},
		{
			"functionName": "Game Over",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"customAction": "GameOver",
					"objectClass": "ScoringTable",
					"sid": 258880735530198
				},
				{
					"id": "set-max-speed",
					"objectClass": "Box",
					"sid": 545056127639191,
					"behaviorType": "Platform",
					"parameters": {
						"max-speed": "0"
					}
				},
				{
					"id": "flash",
					"objectClass": "Guy",
					"sid": 340645320880784,
					"behaviorType": "Flash",
					"parameters": {
						"on-time": "0.1",
						"off-time": "0.1",
						"duration": "1.0"
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 887240447100172,
					"parameters": {
						"seconds": "2"
					}
				},
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 477510875533646
				}
			],
			"sid": 971759594944908
		}
	],
	"sid": 819818898747264
}